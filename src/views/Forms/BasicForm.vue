<template>
  <a-card title="åŸºç¡€è¡¨å•" style="margin-top:15px">
    <a-form :form="form">
      <a-form-item
        :label-col="formItemLayout.labelCol"
        :wrapper-col="formItemLayout.wrapperCol"
        label="ç”¨æˆ·å"
      >
        <a-input
          v-decorator="[
            'username',
            {
              initialValue: 'Admin',
              rules: [
                { required: true, min: 4, message: 'ç”¨æˆ·åå¿…é¡»å¤§äº4ä¸ªå­—ç¬¦' }
              ]
            }
          ]"
          placeholder="è¯·è¾“å…¥ç”¨æˆ·å"
        />
      </a-form-item>
      <a-form-item
        :label-col="formItemLayout.labelCol"
        :wrapper-col="formItemLayout.wrapperCol"
        label="å¯†ç "
      >
        <a-input
          type="password"
          v-decorator="[
            'password',
            {
              rules: [{ required: true, message: 'è¯·è¾“å…¥å¯†ç ' }]
            }
          ]"
          placeholder="è¯·è¾“å…¥å¯†ç "
        />
      </a-form-item>
      <a-form-item
        :label-col="formTailLayout.labelCol"
        :wrapper-col="formTailLayout.wrapperCol"
      >
        <a-checkbox
          v-decorator="[
            'remember',
            {
              initialValue: false
            }
          ]"
        >
          è®°ä½å¯†ç 
        </a-checkbox>
      </a-form-item>
      <a-form-item
        :label-col="formTailLayout.labelCol"
        :wrapper-col="formTailLayout.wrapperCol"
      >
        <a-button type="primary" @click="check">
          æäº¤
        </a-button>
      </a-form-item>
    </a-form>
  </a-card>
</template>

<script>
import { message } from "ant-design-vue";
const formItemLayout = {
  labelCol: { span: 4 },
  wrapperCol: { span: 8 }
};
const formTailLayout = {
  labelCol: { span: 4 },
  wrapperCol: { span: 8, offset: 4 }
};
export default {
  data() {
    return {
      formItemLayout,
      formTailLayout,
      form: this.$form.createForm(this, { name: "dynamic_rule" })
    };
  },
  mounted() {
    setTimeout(() => {
      this.form.setFieldsValue({
        username: "User"
      });
    }, 3000);
  },
  methods: {
    check() {
      this.form.validateFields((err, values) => {
        if (!err) {
          console.info(values);
          Object.assign(this, values);
          message.success(this.username + "ğŸ‰æ­å–œæ‚¨,ç™»é™†æˆåŠŸ~");
        }
      });
    }
  }
};
</script>
